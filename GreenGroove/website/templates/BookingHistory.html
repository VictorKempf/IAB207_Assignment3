<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Booking History</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}"> 
</head>
<body>
  <header>
    <nav class="navbar navbar-expand-lg bg-body-tertiary">
      <div class="container-fluid">
        <a class="navbar-brand" href="{{ url_for('main.index') }}">
          <img src="{{ url_for('static', filename='img/GreenGroove_logo_green.png') }}" alt="Header Image" class="img-fluid" style="max-height: 150px;">
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <div class="navbar-nav w-100 d-flex align-items-center justify-content-between">
            <div class="search-container d-flex align-items-center flex-grow-1">
              <i class="bi bi-geo-alt mx-2"></i>
              <div class="dropdown me-2 d-none d-lg-block">
                <button class="btn dropdown-toggle custom-dropdown-btn" type="button" id="locationDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                  Select a location
                </button>
                <ul class="dropdown-menu" aria-labelledby="locationDropdown">
                  <a class="dropdown-item" href="#">
                    <i class="bi bi-geo"></i> Use my current location
                  </a>
                  <li><a class="dropdown-item" href="#"><i class="bi bi-star"></i> Brisbane</a></li>
                </ul>
              </div>
              <input type="text" class="form-control bg-body-tertiary me-2 search-input" placeholder="Search events">
              <button type="button" class="btn btn-outline-secondary search-btn"><i class="bi bi-search"></i></button>
            </div>
            <div class="d-flex align-items-center">
              <a href="{{ url_for('main.index') }}" class="btn btn-outline-secondary event-btn me-2">Home</a>
              <a href="#" class="btn btn-outline-secondary event-btn me-2">Find Event</a>
              <a href="{{ url_for('main.createEvent') }}" class="btn btn-outline-secondary event-btn me-2">Create Event</a>
              <a href="{{ url_for('main.BookingHistory') }}" class="btn btn-outline-secondary event-btn me-2">Booking History</a>
              <button type="button" class="btn btn-outline-secondary user-btn"><i class="bi bi-person-circle"></i></button>
            </div>
          </div>
        </div>
      </div>
    </nav>
  </header>

<main> 
  <div class="container-fluid">
    <h2 class="text-center mt-4">Your Booking History</h2>
    <div class="row">
      <!-- Loop through the user's orders -->
      {% for order in orders %}
      <div class="col-12 col-md-6 col-lg-4 mb-4">
        <div class="card h-100">
          <img src="{{ url_for('static', filename=order.event.image_path) }}" class="card-img-top" alt="{{ order.event.event_name }} Image">
          <div class="card-body">
            <h5 class="card-title">{{ order.event.event_name }}</h5>
            <p class="card-text"><strong>Booking ID:</strong> {{ order.order_id }}</p>
            <p class="card-text"><strong>Booked on:</strong> {{ order.booking_date.strftime('%B %d, %Y - %I:%M %p') }}</p>
            <p class="card-text"><strong>Quantity:</strong> {{ order.quantity }}</p>
            <p class="card-text"><strong>Total Price:</strong> ${{ order.total_price }}</p>
          </div>
        </div>
      </div>
      {% else %}
      <p>No bookings found.</p>
      {% endfor %}
    </div>
  </div>
</main>

<!-- Footer -->
<footer class="text-white text-center text-lg-start">
  <div class="container p-4">
    <div class="row">
      <div class="col-lg-4 col-md-6 mb-4 mb-md-0">
        <img src="{{ url_for('static', filename='img/GreenGroove_logo_white.png') }}" alt="GreenGroove logo" class="img-fluid" style="max-height: 200px;">
      </div>
      <div class="col-lg-4 col-md-6 mb-4 mb-md-0">
        <h5 class="text-uppercase">About Us</h5>
        <p>GreenGroove is the destination for sustainable music events. We in GreenGroove are dedicated to promoting sustainable approaches and supporting charities through every event hosted. Join us for a greener music experience!</p>
      </div>
      <div class="col-lg-2 col-md-6 mb-4 mb-md-0">
        <h5 class="text-uppercase">Links</h5>
        <ul class="list-unstyled">
          <li><a href="#" class="text-white">Home</a></li>
          <li><a href="#" class="text-white">Services</a></li>
          <li><a href="#" class="text-white">Contact</a></li>
          <li><a href="#" class="text-white">Support</a></li>
        </ul>
      </div>
      <div class="col-lg-2 col-md-6 mb-4 mb-md-0">
        <h5 class="text-uppercase">Follow Us</h5>
        <ul class="list-unstyled">
          <li><a href="#" class="text-white"><i class="bi bi-facebook"></i> Facebook</a></li>
          <li><a href="#" class="text-white"><i class="bi bi-twitter"></i> Twitter</a></li>
          <li><a href="#" class="text-white"><i class="bi bi-instagram"></i> Instagram</a></li>
        </ul>
      </div>
    </div>
  </div>
  <div class="text-center p-3 footer-bottom">
    Â© 2024 GreenGroove. All rights reserved.
  </div>
</footer>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
